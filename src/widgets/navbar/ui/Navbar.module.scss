@use '@/shared/styles/animations';
@use '@/shared/styles/mixins' as *;
@use '@/shared/styles/variables' as *;

.navbar {
    position: fixed;
    display: grid;
    bottom: 0;
    width: 100%;
    max-width: 432px;
    height: calc(64px + 32px);
    grid-template-columns: repeat(4, min-content);
    grid-template-rows: 0 1fr;
    justify-content: space-around;
    justify-self: center;
    align-items: end;
    z-index: 999;
    background: #0b090d;

    .cutout {
        position: absolute;
        top: calc(-64px + 16px);
        left: 0px;
        width: calc(100%);
        height: 64px;
        background: none;
        border-bottom-left-radius: 64px;
        border-bottom-right-radius: 64px;
        border: 16px solid #0b090d;
        border-top: none;

        // Маска: этот блок вырезается
        -webkit-mask: none;
        mask: none;
        -webkit-mask-composite: destination-out;
        mask-composite: exclude;
        pointer-events: none;

        &::after {
            position: absolute;
            content: '';
            top: 34px;
            left: 0;
            width: 100%;
            height: 16px;
            pointer-events: none;
            border: 8px solid #0b090d;
            border-top: none;
            border-bottom: none;
        }
    }

    .link {
        display: grid;
        grid-row: 2;
        place-items: center;
        height: 100%;
        width: 64px;
        padding: 16px;
        padding-bottom: 32px;

        &:hover,
        :active {
            filter: opacity(0.5) drop-shadow(0 0 15px $color-accent)
                drop-shadow(0 0 30px $color-accent);
        }

        .icon {
            height: 32px;
            width: 32px;
            fill: white;
        }

        .icon--active {
            fill: $color-accent !important;
            filter: drop-shadow(0 0 15px $color-accent) drop-shadow(0 0 30px $color-accent);
        }
    }

    @media (min-width: 768px) {
        .cutout {
            left: -16px;
            width: calc(100% + 32px);
        }
    }
}
